{% extends 'base.html' %}
{% load i18n %}

{% block page_title %}
{{user_obj.first_name}}'s Profile
{% endblock page_title %}

{% block content %}

<div class="{% if user_obj.rooms.count == 0 %} h-75vh {% endif %}">
    <div class="profile_container flex flex-col items-center">
        <div class="flex flex-col items-center justify-center w-full">
            
            {% include 'partials/user_avatar.html' with user=user_obj size=28 %}
            
            <div class="flex justify-center items-center">
                <span class="text-center text-3xl mt-2">{{user_obj.first_name}}</span>
                {% if user_obj.superhost %}
                    <i class="fas fa-medal text-red-400 text-2xl ml-2"></i>
                {% endif %}
            </div>

            <span class="w-full mt-2 py-2 text-lg mb-5 text-center text-gray-600">{{user_obj.bio}}</span>
            
            {% if user == user_obj %}
                <div class="flex w-full justify-evenly">
                    <a href="{% url 'lists:my_lists' %}" class="btn w-1/3 bg-red-400 text-white font-medium hover:bg-red-300">
                        <span>{% trans "My Favourites" %}</span>
                    </a>
                    <a href="{% url 'users:update_profile' %}" class="btn w-1/3 bg-blue-400 text-white font-medium hover:bg-blue-300">
                        <span>{% trans "Edit Profile" %}</span>
                    </a>
                </div>
            {% endif %}
                
        </div>
    </div>


    {% if user_obj.rooms.count > 0 %}
        <div class="container mx-auto flex flex-col items-center">
            <div class="text-2xl mb-7 ml-2 p-2 border-b-2 border-gray-400 self-start">
                <h3>
                    {% blocktrans with first_name=user_obj.first_name %}{{first_name}}'s Rooms{% endblocktrans %}
                </h3>
            </div>
            <div class="flex flex-wrap w-full -mx-2 mb-10">
                {% for room in user_obj.rooms.all %}
                    {% include 'partials/room_card.html' with room=room %}
                {% endfor %}
            </div>
        </div>
    {% endif %}
</div>

{% endblock content %}