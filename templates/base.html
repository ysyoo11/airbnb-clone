{% load static i18n %}
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="favicon" type="image/png" href="/static/img/favicon.png">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <script src="https://kit.fontawesome.com/4d6e5672f0.js" crossorigin="anonymous" defer></script>
    <title>
      {% block page_title %}{% endblock page_title %}
      | Airbnb</title>
  </head>

  <body class="text-gray-800 mt-20">
    {% include "partials/messages.html" %}
    <header class="container z-10 max-w-full flex items-center justify-between text-center h-20 px-20 shadow-md fixed bg-white inset-0">
      <div class="flex">
        <a href="{% url 'core:home' %}">
          <img class="w-24" src="{% static 'img/logo.png' %}" alt="logo">
        </a>
      </div>
      {% block search_bar %}
      <form class="absolute left-0 right-0 flex justify-between m-auto border rounded-full border-solid px-6 py-2 text-sm w-80 shadow-md hover:shadow-lg transition duration-300" method="get" action="{% url 'rooms:search' %}">
        <input class="w-full placeholder-gray-800 font-medium focus:outline-none border-none" value="{{city}}" name="city" placeholder="{% trans 'Search by City' %}">
        <button class="p-2 rounded-full bg-red-400 text-white">
          <i class="fas fa-search"></i>
        </button>
      </form>
      {% endblock search_bar %}
      {% include "partials/nav.html" %}

    </header>

    {% block content %}{% endblock content %}

    {% include "partials/footer.html" %}

    <script>
      const langSelect = document.getElementById("js-lang");
      const handleLangChange = () => {
        const selected = langSelect.value;
        fetch(`{% url 'users:switch_language' %}?lang=${selected}`).then(() => window.location.reload());
      }
      langSelect.addEventListener("change", handleLangChange);
    </script>
  </body>

</html>